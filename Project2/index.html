<!DOCTYPE html>
<html>
<title>NTSB Aviation Accident</title>
<link rel="icon" href="image/crash_icon.png">
<meta charset="UTF-8">

<!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
<script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.0"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.17.0"></script>

<!-- Import css -->
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<!-- Google font -->
<link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;700;900&display=swap" rel="stylesheet">

<style>
*{
  font-family: sans-serif;
  text-align: justify;
  }
  h1{
	font-weight: 550;
  text-align: center;
  font-size: 40px;
  }
  h2{
    font-weight: 450;
    text-align: center;
    font-size: 25px;
    
  }
  h3{
    font-weight: 400;
    text-align: center;
    font-size: 25px;
    
  }
  p{
    font-size: 14px;
  }
  .vis-container{
	width: 100%;
  }

  .pure-g{
	margin-bottom: 25px;
  }

body, html {
  height: 100%;
  color: #777;
  line-height: 1.8;
}

/* Create a Parallax Effect */
.bgimg-1{
  background-attachment: fixed;
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  background-image: url('image/crash.jpg');
  min-height: 80%;
}
.wrap {
  word-wrap: break-word;
}

/* The Modal (background) */
.modal {
  display: none; /* Hidden by default */
  position: fixed; /* Stay in place */
  z-index: 1; /* Sit on top */
  padding-top: 100px; /* Location of the box */
  left: 0;
  top: 0;
  width: 100%; /* Full width */
  height: 100%; /* Full height */
  overflow: auto; /* Enable scroll if needed */
  background-color: rgb(0,0,0); /* Fallback color */
  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
}

/* Modal Content */
.modal-content {
  background-color: #fefefe;
  color: rgb(12, 12, 12);
  margin: auto;
  padding: 20px;
  border: 1px solid #888;
  width: 75%;
}

/* The Close Button */
.close {
  color: #aaaaaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: #000;
  text-decoration: none;
  cursor: pointer;
}

.w3-wide {letter-spacing: 10px;}
.w3-hover-opacity {cursor: pointer;}
/* Turn off parallax scrolling for tablets and phones */
@media only screen and (max-device-width: 2000px) {
  .bgimg-1{
    background-attachment: scroll;
    min-height: 400px;
  }
}
</style>
  
  
<body>

<!-- Navbar (sit on top) -->
<div class="w3-top">
  <div class="w3-bar" id="myNavbar">
    <a class="w3-bar-item w3-button w3-hover-black w3-hide-medium w3-hide-large w3-right" href="javascript:void(0);" onclick="toggleFunction()" title="Toggle Navigation Menu">
      <i class="fa fa-bars"></i>
    </a>
    <a href="#home" class="w3-bar-item w3-button">HOME</a>
    <a href="#intro" class="w3-bar-item w3-button w3-hide-small"><i class="fa fa-globe"></i> MAP</a>
    <a href="#company" class="w3-bar-item w3-button w3-hide-small"><i class="fa fa-bar-chart"></i> MAKE AND MODEL</a>
    <a href="#damage" class="w3-bar-item w3-button w3-hide-small"><i class="fa fa-line-chart"></i> AIRCRAFT DAMAGE</a>
    <a href="#flight" class="w3-bar-item w3-button w3-hide-small"><i class="fa fa-braille"></i> FLIGHT PURPOSE</a>

  </div>

  <!-- Navbar on small screens -->
  <div id="navDemo" class="w3-bar-block w3-white w3-hide w3-hide-large w3-hide-medium">
    <a href="#intro" class="w3-bar-item w3-button" onclick="toggleFunction()">MAP</a>
    <a href="#company" class="w3-bar-item w3-button" onclick="toggleFunction()">MAKE AND MODEL</a>
    <a href="#damage" class="w3-bar-item w3-button" onclick="toggleFunction()">AIRCRAFT DAMAGE</a>
    <a href="#flight" class="w3-bar-item w3-button" onclick="toggleFunction()">FLIGHT PURPOSE</a>
  </div>
</div>

<!-- First Parallax Image with Text -->
<div class="bgimg-1 w3-display-container w3-opacity-min" id="home">
  <div class="w3-display-middle" style="white-space: nowrap;"><h1><span class="w3-center w3-padding-large w3-black w3-wide w3-animate-opacity">AVIATION ACCIDENT IN NORTH AMERICA
  </span></h1>
  </div>
</div>

<!-- Container (MAP Section) -->
<div class="w3-content w3-container w3-padding-64" id="intro">
  <p>This visualisation data is about the National Transportation Safety Board aviation accident which taken from the year between 2000 to 2020 in North America.
    According to Baum Hedlund, Boeing Commercial Airplanes had published a study and state that <span style="color: #08090a;font-weight:bold;">over half of all aircraft 
      accidents occur during final approach or landing, and 14% occur during takeoff or initial climb</span>. This had shown that the majority of aviation accidents happen on 
      the runway during takeoff or landing, not while the aircraft is cruising in the air.
  </p>
  <br>

  <!-- Interactive Map Chart -->
    <div class="pure-g"> 
      <div class="pure-u-1-1"></div>
      <div class="pure-u-1-1">
        <div id="vis1" class="vis-container"></div>
      </div>
  </div>
  <!-- end pure grid group -->
  <p>From the map above, it is shown that each state had occurred at least one aviation accident. However, most of the accidents occur in 
    <span style="color: #ad6751;font-weight:bold;font-size:18px;">California</span> where it had <b>2921 cases</b> and 
    <span style="color: #0F344A;font-weight:bold;">1053 people had fatal</span> in the 20 years. 
    The second higher state is <span style="color: #ad6751;font-weight:bold;font-size:18px ;">Florida</span> where it had <b>2243 
      cases</b> and <span style="color: #0F344A;font-weight:bold;">732 people had fatal</span> in the 20 years.
  </p>
</div>


<!-- Container (Maker and Modal Section) -->
<div class="w3-row w3-center w3-dark-grey w3-padding-16" id="company">
  <h3><b>Common Make and Models in Aviation Accident</b></h3>
</div>

<!-- Container (body company Section) -->
<div class="w3-content w3-container w3-padding-64">
    <p>Based on the left graph, the  <span style="color: #0F344A; font-size:18px ;font-weight:bold;"> Cessna</span> had the most aviation acciendent in these 20 years.
      The number of accident is <b>almost doubled</b> for the second place make company - <span style="color: #0F344A; font-size:18px ;font-weight:bold;">Piper</span>. 
      This is because, on the right graph, the model made by Cessna had occupied <b>seven places on the top 10 rankings</b>. The following is the 
      <span style="color: #0F344A; font-size:18px ;font-weight:bold;">Beech</span> where the number of accident 
      is <b>twice less than the Piper</b>. These three manufacturers have historically been the largest producers of aircraft for general aviation purposes â€“ 
      though both Beech <em>(rename to Beechcraft)</em> and Cessna have since become subsidiaries of Textron Aviation in year 2014.</p>
    <br>

    <!-- Top k bar chart -->
    <div class="pure-g">
      <div class="pure-u-2-3">
        <div id="vis2"  class="vis-container"></div>
      </div>
    <div class="pure-u-1-3"></div>
  </div>
  <!-- end pure grid group -->
  
</div>


<!-- Container (damage Section) -->
<div class="w3-content w3-container w3-padding-64" id="damage">
  <h2 class="w3-center"><b>Aircraft Damage</b></h2>


  <!-- pure grid group -->
  <div class="w3-col m8 w3-center w3-padding-large pure-g">
    <br>
    <div class="pure-u-2-3">
      <div id="vis3"  class="vis-container"></div>
    </div>
    <div class="pure-u-1-3"></div>
  </div>
  <!-- end pure grid group -->

  <div class="w3-col m4 w3-hide-small w3-padding-large">
  <p>According to the graph,  <span style="color: #0F344A; font-size:16px;font-weight:bold;">2003</span> was the year with the highest number of aircraft destroyed 
    and  <span style="color: #0F344A; font-size:16px ;font-weight:bold;"> 2011</span> was the year with the least number.

    <p>The graph also had shown that there is only a  <span style="color: #bfb6a4; font-size:18px;font-weight:bold;">minor chance</span> can let the aircraft had  
      <span style="color: #bfb6a4;font-size:18px;font-weight:bold;">minor damage</span> in the aviation accident.
       The highest number occurred in <span style="color: #bfb6a4; font-size:16px;font-weight:bold;">2009</span>, where it had only <b>26 aircraft</b>.
    </p>
  </div>
</div>


<!-- Container (Flight Purpose Section) -->
<div class="w3-content w3-container w3-padding-64" id="flight">
  <h2 class="w3-center"><b>Flight Purpose</b></h2>

  <!-- Waffle Chart -->
  <div class="w3-col m8 w3-padding-large pure-g">
    <div class="pure-u-2-3">
      <div id="vis4"  class="vis-container"></div>
    </div>
    <div class="pure-u-1-3"></div>
  </div>
  <!-- end pure grid group -->
  
  <div class="w3-col m4 w3-padding-large">  
    <p>The majority of the flight purpose happened in the <span style="color: #0E1D35;font-weight:bold;font-size:18px;">personal</span> category, where it occupied  
      <span style="color: #0E1D35;font-weight:bold;font-size:15px;">65%</span> in the accident. 
      The next is <span style="color: #966A2C;font-weight:bold;font-size:18px;">instructional</span> with <span style="color: #966A2C;font-weight:bold;font-size:15px;">14%</span> , 
      <span style="color: #8F887F;font-weight:bold;font-size:18px;">aerial application</span> is <span style="color: #8F887F;font-weight:bold;font-size:16px;">5% </span>
      where <span style="color: #cb8b72;font-weight:bold;font-size:18px;">business</span> purpose occupies the least which is <span style="color: #cb8b72;font-size:15px;font-weight:bold;">3%</span>, 
      and the rest is for <span style="color: #d3c7b1;font-weight:bold;font-size:18px;">others</span> purpose. </p>
  </div>


</div>


<!-- Footer -->
<footer class="w3-center w3-black w3-padding-16 w3-opacity w3-hover-opacity-off">
  <a href="#home" class="w3-button w3-light-grey"><i class="fa fa-arrow-up w3-margin-right"></i>To the top</a>
  
  <p><em> Created by  <a style="text-decoration:none" href="https://github.com/sy-ho/vega_lite/tree/main/Project2" target="_blank" class="w3-hover-text-blue-gray">Suu Yin Ho</a> for FIT3179 Data Visualisation 2</em></p>
  <!-- Trigger/Open The Modal -->
  <button id="myBtn"><i class="fa fa-book w3-margin-right"></i>References </button>

  <!-- The Modal -->
  <div id="myModal" class="modal">

   <!-- Modal content -->
   <div class="modal-content">
    <span class="close">&times;</span>
    <p style = "text-align: center;"><span style="font-weight:bold;font-style:italic;"> References </span></p>  
    <p>Baum Hedlund.(n.d.) Airport Runway Accidents. Retrieved from</p> 
      <p>&emsp;https://www.baumhedlundlaw.com/aviation-accident/airport-runway-accidents/</p>
      <br>
      
    <p>Datahub.(2019). Country and Continent Codes List [Data file]. Retrieved from</p> 
       <p>&emsp;https://datahub.io/JohnSnowLabs/country-and-continent-codes-list#data</p>
      <br>
      
    <p>Fiegl, J. (2019).  Second Class Project for Statistical Methods I. Retrieved from</p>
      <p>&emsp;http://rstudio-pubs-static.s3.amazonaws.com/466540_2da8a1bc8b
      6542a4ba49399bc4d66af6.html</p>
      <br>
      
    <p>Samaha, K. (2021). Aviation Accident Database & Synopses [Data file]. Retrieved from </p>
        <p>&emsp;https://www.kaggle.com/khsamaha/aviation-accident-database-synopses</p>
      <br>
      
    <p>Ujvari, B.(2015). Photoshop Speed Art - Plane Crash  [photograph]. Retrieved from </p>
      <p>&emsp;https://vimeo.com/117673909</p>
      <br>
      
    <p>W3schools. (n.d.). Parallex Template [HTML template]. Retrieved from</p> 
      <p>&emsp;https://www.w3schools.com/w3css/tryit.asp?filename=tryw3css_templates_parallax&stacked=h</p>
      
  </div>
</div>
</footer>
 
<script>

// Change style of navbar on scroll
window.onscroll = function() {myFunction()};
function myFunction() {
    var navbar = document.getElementById("myNavbar");
    if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
        navbar.className = "w3-bar" + " w3-card" + " w3-animate-top" + " w3-white";
    } else {
        navbar.className = navbar.className.replace(" w3-card w3-animate-top w3-white", "");
    }
}

// Get the modal
var modal = document.getElementById("myModal");

// Get the button that opens the modal
var btn = document.getElementById("myBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks the button, open the modal 
btn.onclick = function() {
  modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}

// Used to toggle the menu on small screens when clicking on the menu button
function toggleFunction() {
    var x = document.getElementById("navDemo");
    if (x.className.indexOf("w3-show") == -1) {
        x.className += " w3-show";
    } else {
        x.className = x.className.replace(" w3-show", "");
    }
}
</script>

<!-- chart -->
<script type="text/javascript">
  var vg_1 = "js/interativeMap.vg.json";
  var vg_2 = "js/InteractiveBar.vg.json";
  var vg_3 = "js/lineChart.vg.json";
  var vg_4 = "js/waffleChart.vg.json";

  vegaEmbed('#vis1', vg_1, {"actions": false}).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);
  
   vegaEmbed('#vis2', vg_2, {"actions": false}).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);

  vegaEmbed('#vis3', vg_3, {"actions": false}).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);

  vegaEmbed('#vis4', vg_4, {"actions": false}).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);
</script>
</body>
</html>
